(()=>{"use strict";function e(e){e.classList.add("popup_is-opened"),document.addEventListener("keydown",n)}function t(e){e.classList.remove("popup_is-opened"),document.removeEventListener("keydown",n)}function n(e){"Escape"===e.key&&t(document.querySelector(".popup_is-opened"))}function r(e){var n=e.currentTarget;(e.target.classList.contains("popup__close")||e.target===n)&&t(n)}var o=document.querySelector("#card-template").content;function c(e,t,n,r,c){var p=o.querySelector(".card").cloneNode(!0),u=p.querySelector(".card__image");p.querySelector(".card__title").textContent=t;var a=p.querySelector(".card__delete-button");return u.src=e,u.alt=t,a.addEventListener("click",(function(){return n(p)})),p.querySelector(".card__like-button").addEventListener("click",r),u.addEventListener("click",c),p}function p(e){e.remove()}function u(e){e.target.classList.toggle("card__like-button_is-active")}var a=document.querySelector(".places__list");[{name:"Архыз",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/arkhyz.jpg"},{name:"Челябинская область",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/chelyabinsk-oblast.jpg"},{name:"Иваново",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/ivanovo.jpg"},{name:"Камчатка",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kamchatka.jpg"},{name:"Холмогорский район",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/kholmogorsky-rayon.jpg"},{name:"Байкал",link:"https://pictures.s3.yandex.net/frontend-developer/cards-compressed/baikal.jpg"}].forEach((function(e){var t=c(e.link,e.name,p,u,s);a.append(t)}));var d=document.querySelector(".popup_type_image"),i=document.querySelector(".popup__image"),l=document.querySelector(".popup__caption");function s(t){i.src=t.target.src,i.alt=t.target.alt,l.textContent=t.target.alt,e(d)}var _=document.querySelector(".profile__add-button"),m=document.querySelector(".popup_type_new-card");_.addEventListener("click",(function(){e(m)})),document.querySelectorAll(".popup").forEach((function(e){e.addEventListener("click",r)}));var v=document.querySelector(".profile__edit-button"),y=document.querySelector(".popup_type_edit");v.addEventListener("click",(function(){e(y),function(){var e=document.forms["edit-profile"],t=e.elements.name,n=e.elements.description;t.value=f.textContent,n.value=k.textContent}()}));var f=document.querySelector(".profile__title"),k=document.querySelector(".profile__description"),q=y.querySelector(".popup__form"),S=q.querySelector(".popup__input_type_name"),g=q.querySelector(".popup__input_type_description");q.addEventListener("submit",(function(e){e.preventDefault();var n=S.value,r=g.value;f.textContent=n,k.textContent=r,t(y)}));var L=m.querySelector(".popup__form"),E=L.querySelector(".popup__input_type_card-name"),h=L.querySelector(".popup__input_type_url");L.addEventListener("submit",(function(e){e.preventDefault();var n=c(h.value,E.value,p,u,s);a.prepend(n),L.reset(),t(m)}))})();